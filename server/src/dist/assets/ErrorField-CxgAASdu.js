var it=e=>{throw TypeError(e)};var Pe=(e,r,t)=>r.has(e)||it("Cannot "+t);var w=(e,r,t)=>(Pe(e,r,"read from private field"),t?t.call(e):r.get(e)),oe=(e,r,t)=>r.has(e)?it("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),ce=(e,r,t,i)=>(Pe(e,r,"write to private field"),i?i.call(e,t):r.set(e,t),t),fe=(e,r,t)=>(Pe(e,r,"access private method"),t);import{S as Rt,a as Bt,h as at,g as It,n as mt,b as qt,r as ye,c as jt,d as Wt,R,e as Kt,_ as Re,f as Ht,z as _t,v as he,i as Ft,j as $t}from"./index-CWJcri60.js";var re,se,L,G,X,Ee,je,bt,zt=(bt=class extends Rt{constructor(r,t){super();oe(this,X);oe(this,re);oe(this,se);oe(this,L);oe(this,G);ce(this,re,r),this.setOptions(t),this.bindMethods(),fe(this,X,Ee).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const t=this.options;this.options=w(this,re).defaultMutationOptions(r),Bt(this.options,t)||w(this,re).getMutationCache().notify({type:"observerOptionsUpdated",mutation:w(this,L),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&at(t.mutationKey)!==at(this.options.mutationKey)?this.reset():((i=w(this,L))==null?void 0:i.state.status)==="pending"&&w(this,L).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=w(this,L))==null||r.removeObserver(this)}onMutationUpdate(r){fe(this,X,Ee).call(this),fe(this,X,je).call(this,r)}getCurrentResult(){return w(this,se)}reset(){var r;(r=w(this,L))==null||r.removeObserver(this),ce(this,L,void 0),fe(this,X,Ee).call(this),fe(this,X,je).call(this)}mutate(r,t){var i;return ce(this,G,t),(i=w(this,L))==null||i.removeObserver(this),ce(this,L,w(this,re).getMutationCache().build(w(this,re),this.options)),w(this,L).addObserver(this),w(this,L).execute(r)}},re=new WeakMap,se=new WeakMap,L=new WeakMap,G=new WeakMap,X=new WeakSet,Ee=function(){var t;const r=((t=w(this,L))==null?void 0:t.state)??It();ce(this,se,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},je=function(r){mt.batch(()=>{var t,i,l,n,c,h,_,D;if(w(this,G)&&this.hasListeners()){const F=w(this,se).variables,g=w(this,se).context;(r==null?void 0:r.type)==="success"?((i=(t=w(this,G)).onSuccess)==null||i.call(t,r.data,F,g),(n=(l=w(this,G)).onSettled)==null||n.call(l,r.data,null,F,g)):(r==null?void 0:r.type)==="error"&&((h=(c=w(this,G)).onError)==null||h.call(c,r.error,F,g),(D=(_=w(this,G)).onSettled)==null||D.call(_,void 0,r.error,F,g))}this.listeners.forEach(F=>{F(w(this,se))})})},bt);function Qt(e,r){const t=qt(),[i]=ye.useState(()=>new zt(t,e));ye.useEffect(()=>{i.setOptions(e)},[i,e]);const l=ye.useSyncExternalStore(ye.useCallback(c=>i.subscribe(mt.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),n=ye.useCallback((c,h)=>{i.mutate(c,h).catch(jt)},[i]);if(l.error&&Wt(i.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:n,mutateAsync:l.mutate}}var Ve=e=>e.type==="checkbox",ne=e=>e instanceof Date,M=e=>e==null;const Vt=e=>typeof e=="object";var S=e=>!M(e)&&!Array.isArray(e)&&Vt(e)&&!ne(e),Yt=e=>S(e)&&e.target?Ve(e.target)?e.target.checked:e.target.value:e,Gt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Jt=(e,r)=>e.has(Gt(r)),Xt=e=>{const r=e.constructor&&e.constructor.prototype;return S(r)&&r.hasOwnProperty("isPrototypeOf")},Ke=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function q(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Ke&&(e instanceof Blob||e instanceof FileList))&&(t||S(e)))if(r=t?[]:{},!t&&!Xt(e))r=e;else for(const i in e)e.hasOwnProperty(i)&&(r[i]=q(e[i]));else return e;return r}var Ce=e=>Array.isArray(e)?e.filter(Boolean):[],E=e=>e===void 0,y=(e,r,t)=>{if(!r||!S(e))return t;const i=Ce(r.split(/[,[\].]+?/)).reduce((l,n)=>M(l)?l:l[n],e);return E(i)||i===e?E(e[r])?t:e[r]:i},K=e=>typeof e=="boolean",He=e=>/^\w*$/.test(e),At=e=>Ce(e.replace(/["|']|\]/g,"").split(/\.|\[/)),x=(e,r,t)=>{let i=-1;const l=He(r)?[r]:At(r),n=l.length,c=n-1;for(;++i<n;){const h=l[i];let _=t;if(i!==c){const D=e[h];_=S(D)||Array.isArray(D)?D:isNaN(+l[i+1])?{}:[]}if(h==="__proto__")return;e[h]=_,e=e[h]}return e};const nt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},W={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Y={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};R.createContext(null);var Zt=(e,r,t,i=!0)=>{const l={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(l,n,{get:()=>{const c=n;return r._proxyFormState[c]!==W.all&&(r._proxyFormState[c]=!i||W.all),e[c]}});return l},N=e=>S(e)&&!Object.keys(e).length,er=(e,r,t,i)=>{t(e);const{name:l,...n}=e;return N(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(c=>r[c]===W.all)},Se=e=>Array.isArray(e)?e:[e];function tr(e){const r=R.useRef(e);r.current=e,R.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var H=e=>typeof e=="string",rr=(e,r,t,i,l)=>H(e)?(i&&r.watch.add(e),y(t,e,l)):Array.isArray(e)?e.map(n=>(i&&r.watch.add(n),y(t,n))):(i&&(r.watchAll=!0),t),xt=(e,r,t,i,l)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:l||!0}}:{},ut=e=>({isOnSubmit:!e||e===W.onSubmit,isOnBlur:e===W.onBlur,isOnChange:e===W.onChange,isOnAll:e===W.all,isOnTouch:e===W.onTouched}),lt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Fe=(e,r,t,i)=>{for(const l of t||Object.keys(e)){const n=y(e,l);if(n){const{_f:c,...h}=n;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],l)&&!i)return!0;if(c.ref&&r(c.ref,c.name)&&!i)return!0;if(Fe(h,r))break}else if(S(h)&&Fe(h,r))break}}};var sr=(e,r,t)=>{const i=Se(y(e,t));return x(i,"root",r[t]),x(e,t,i),e},$e=e=>e.type==="file",J=e=>typeof e=="function",ke=e=>{if(!Ke)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},De=e=>H(e),ze=e=>e.type==="radio",Oe=e=>e instanceof RegExp;const ot={value:!1,isValid:!1},ct={value:!0,isValid:!0};var wt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!E(e[0].attributes.value)?E(e[0].value)||e[0].value===""?ct:{value:e[0].value,isValid:!0}:ct:ot}return ot};const ft={isValid:!1,value:null};var Et=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ft):ft;function dt(e,r,t="validate"){if(De(e)||Array.isArray(e)&&e.every(De)||K(e)&&!e)return{type:t,message:De(e)?e:"",ref:r}}var de=e=>S(e)&&!Oe(e)?e:{value:e,message:""},yt=async(e,r,t,i,l)=>{const{ref:n,refs:c,required:h,maxLength:_,minLength:D,min:F,max:g,pattern:Ae,validate:Z,name:P,valueAsNumber:Ue,mount:$,disabled:ee}=e._f,V=y(r,P);if(!$||ee)return{};const z=c?c[0]:n,Q=m=>{i&&z.reportValidity&&(z.setCustomValidity(K(m)?"":m||""),z.reportValidity())},k={},ue=ze(n),xe=Ve(n),ie=ue||xe,le=(Ue||$e(n))&&E(n.value)&&E(V)||ke(n)&&n.value===""||V===""||Array.isArray(V)&&!V.length,B=xt.bind(null,P,t,k),we=(m,A,O,T=Y.maxLength,j=Y.minLength)=>{const I=m?A:O;k[P]={type:m?T:j,message:I,ref:n,...B(m?T:j,I)}};if(l?!Array.isArray(V)||!V.length:h&&(!ie&&(le||M(V))||K(V)&&!V||xe&&!wt(c).isValid||ue&&!Et(c).isValid)){const{value:m,message:A}=De(h)?{value:!!h,message:h}:de(h);if(m&&(k[P]={type:Y.required,message:A,ref:z,...B(Y.required,A)},!t))return Q(A),k}if(!le&&(!M(F)||!M(g))){let m,A;const O=de(g),T=de(F);if(!M(V)&&!isNaN(V)){const j=n.valueAsNumber||V&&+V;M(O.value)||(m=j>O.value),M(T.value)||(A=j<T.value)}else{const j=n.valueAsDate||new Date(V),I=be=>new Date(new Date().toDateString()+" "+be),ve=n.type=="time",ge=n.type=="week";H(O.value)&&V&&(m=ve?I(V)>I(O.value):ge?V>O.value:j>new Date(O.value)),H(T.value)&&V&&(A=ve?I(V)<I(T.value):ge?V<T.value:j<new Date(T.value))}if((m||A)&&(we(!!m,O.message,T.message,Y.max,Y.min),!t))return Q(k[P].message),k}if((_||D)&&!le&&(H(V)||l&&Array.isArray(V))){const m=de(_),A=de(D),O=!M(m.value)&&V.length>+m.value,T=!M(A.value)&&V.length<+A.value;if((O||T)&&(we(O,m.message,A.message),!t))return Q(k[P].message),k}if(Ae&&!le&&H(V)){const{value:m,message:A}=de(Ae);if(Oe(m)&&!V.match(m)&&(k[P]={type:Y.pattern,message:A,ref:n,...B(Y.pattern,A)},!t))return Q(A),k}if(Z){if(J(Z)){const m=await Z(V,r),A=dt(m,z);if(A&&(k[P]={...A,...B(Y.validate,A.message)},!t))return Q(A.message),k}else if(S(Z)){let m={};for(const A in Z){if(!N(m)&&!t)break;const O=dt(await Z[A](V,r),z,A);O&&(m={...O,...B(A,O.message)},Q(O.message),t&&(k[P]=m))}if(!N(m)&&(k[P]={ref:z,...m},!t))return k}}return Q(!0),k};function ir(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=E(e)?i++:e[r[i++]];return e}function ar(e){for(const r in e)if(e.hasOwnProperty(r)&&!E(e[r]))return!1;return!0}function p(e,r){const t=Array.isArray(r)?r:He(r)?[r]:At(r),i=t.length===1?e:ir(e,t),l=t.length-1,n=t[l];return i&&delete i[n],l!==0&&(S(i)&&N(i)||Array.isArray(i)&&ar(i))&&p(e,t.slice(0,-1)),e}var Be=()=>{let e=[];return{get observers(){return e},next:l=>{for(const n of e)n.next&&n.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(n=>n!==l)}}),unsubscribe:()=>{e=[]}}},We=e=>M(e)||!Vt(e);function te(e,r){if(We(e)||We(r))return e===r;if(ne(e)&&ne(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const l of t){const n=e[l];if(!i.includes(l))return!1;if(l!=="ref"){const c=r[l];if(ne(n)&&ne(c)||S(n)&&S(c)||Array.isArray(n)&&Array.isArray(c)?!te(n,c):n!==c)return!1}}return!0}var St=e=>e.type==="select-multiple",nr=e=>ze(e)||Ve(e),Ie=e=>ke(e)&&e.isConnected,Dt=e=>{for(const r in e)if(J(e[r]))return!0;return!1};function pe(e,r={}){const t=Array.isArray(e);if(S(e)||t)for(const i in e)Array.isArray(e[i])||S(e[i])&&!Dt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},pe(e[i],r[i])):M(e[i])||(r[i]=!0);return r}function kt(e,r,t){const i=Array.isArray(e);if(S(e)||i)for(const l in e)Array.isArray(e[l])||S(e[l])&&!Dt(e[l])?E(r)||We(t[l])?t[l]=Array.isArray(e[l])?pe(e[l],[]):{...pe(e[l])}:kt(e[l],M(r)?{}:r[l],t[l]):t[l]=!te(e[l],r[l]);return t}var me=(e,r)=>kt(e,r,pe(r)),Ot=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>E(e)?e:r?e===""?NaN:e&&+e:t&&H(e)?new Date(e):i?i(e):e;function qe(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return $e(r)?r.files:ze(r)?Et(e.refs).value:St(r)?[...r.selectedOptions].map(({value:t})=>t):Ve(r)?wt(e.refs).value:Ot(E(r.value)?e.ref.value:r.value,e)}var ur=(e,r,t,i)=>{const l={};for(const n of e){const c=y(r,n);c&&x(l,n,c._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:i}},_e=e=>E(e)?e:Oe(e)?e.source:S(e)?Oe(e.value)?e.value.source:e.value:e;const ht="AsyncFunction";var lr=e=>(!e||!e.validate)&&!!(J(e.validate)&&e.validate.constructor.name===ht||S(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===ht)),or=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function vt(e,r,t){const i=y(e,t);if(i||He(t))return{error:i,name:t};const l=t.split(".");for(;l.length;){const n=l.join("."),c=y(r,n),h=y(e,n);if(c&&!Array.isArray(c)&&t!==n)return{name:t};if(h&&h.type)return{name:n,error:h};l.pop()}return{name:t}}var cr=(e,r,t,i,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(r||e):(t?i.isOnBlur:l.isOnBlur)?!e:(t?i.isOnChange:l.isOnChange)?e:!0,fr=(e,r)=>!Ce(y(e,r)).length&&p(e,r);const dr={mode:W.onSubmit,reValidateMode:W.onChange,shouldFocusError:!0};function yr(e={}){let r={...dr,...e},t={submitCount:0,isDirty:!1,isLoading:J(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},l=S(r.defaultValues)||S(r.values)?q(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:q(l),c={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},_,D=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:Be(),array:Be(),state:Be()},Ae=ut(r.mode),Z=ut(r.reValidateMode),P=r.criteriaMode===W.all,Ue=s=>a=>{clearTimeout(D),D=setTimeout(s,a)},$=async s=>{if(!e.disabled&&(F.isValid||s)){const a=r.resolver?N((await ie()).errors):await B(i,!0);a!==t.isValid&&g.state.next({isValid:a})}},ee=(s,a)=>{!e.disabled&&(F.isValidating||F.validatingFields)&&((s||Array.from(h.mount)).forEach(u=>{u&&(a?x(t.validatingFields,u,a):p(t.validatingFields,u))}),g.state.next({validatingFields:t.validatingFields,isValidating:!N(t.validatingFields)}))},V=(s,a=[],u,d,f=!0,o=!0)=>{if(d&&u&&!e.disabled){if(c.action=!0,o&&Array.isArray(y(i,s))){const v=u(y(i,s),d.argA,d.argB);f&&x(i,s,v)}if(o&&Array.isArray(y(t.errors,s))){const v=u(y(t.errors,s),d.argA,d.argB);f&&x(t.errors,s,v),fr(t.errors,s)}if(F.touchedFields&&o&&Array.isArray(y(t.touchedFields,s))){const v=u(y(t.touchedFields,s),d.argA,d.argB);f&&x(t.touchedFields,s,v)}F.dirtyFields&&(t.dirtyFields=me(l,n)),g.state.next({name:s,isDirty:m(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else x(n,s,a)},z=(s,a)=>{x(t.errors,s,a),g.state.next({errors:t.errors})},Q=s=>{t.errors=s,g.state.next({errors:t.errors,isValid:!1})},k=(s,a,u,d)=>{const f=y(i,s);if(f){const o=y(n,s,E(u)?y(l,s):u);E(o)||d&&d.defaultChecked||a?x(n,s,a?o:qe(f._f)):T(s,o),c.mount&&$()}},ue=(s,a,u,d,f)=>{let o=!1,v=!1;const b={name:s};if(!e.disabled){const C=!!(y(i,s)&&y(i,s)._f&&y(i,s)._f.disabled);if(!u||d){F.isDirty&&(v=t.isDirty,t.isDirty=b.isDirty=m(),o=v!==b.isDirty);const U=C||te(y(l,s),a);v=!!(!C&&y(t.dirtyFields,s)),U||C?p(t.dirtyFields,s):x(t.dirtyFields,s,!0),b.dirtyFields=t.dirtyFields,o=o||F.dirtyFields&&v!==!U}if(u){const U=y(t.touchedFields,s);U||(x(t.touchedFields,s,u),b.touchedFields=t.touchedFields,o=o||F.touchedFields&&U!==u)}o&&f&&g.state.next(b)}return o?b:{}},xe=(s,a,u,d)=>{const f=y(t.errors,s),o=F.isValid&&K(a)&&t.isValid!==a;if(e.delayError&&u?(_=Ue(()=>z(s,u)),_(e.delayError)):(clearTimeout(D),_=null,u?x(t.errors,s,u):p(t.errors,s)),(u?!te(f,u):f)||!N(d)||o){const v={...d,...o&&K(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...v},g.state.next(v)}},ie=async s=>{ee(s,!0);const a=await r.resolver(n,r.context,ur(s||h.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return ee(s),a},le=async s=>{const{errors:a}=await ie(s);if(s)for(const u of s){const d=y(a,u);d?x(t.errors,u,d):p(t.errors,u)}else t.errors=a;return a},B=async(s,a,u={valid:!0})=>{for(const d in s){const f=s[d];if(f){const{_f:o,...v}=f;if(o){const b=h.array.has(o.name),C=f._f&&lr(f._f);C&&F.validatingFields&&ee([d],!0);const U=await yt(f,n,P,r.shouldUseNativeValidation&&!a,b);if(C&&F.validatingFields&&ee([d]),U[o.name]&&(u.valid=!1,a))break;!a&&(y(U,o.name)?b?sr(t.errors,U,o.name):x(t.errors,o.name,U[o.name]):p(t.errors,o.name))}!N(v)&&await B(v,a,u)}}return u.valid},we=()=>{for(const s of h.unMount){const a=y(i,s);a&&(a._f.refs?a._f.refs.every(u=>!Ie(u)):!Ie(a._f.ref))&&Te(s)}h.unMount=new Set},m=(s,a)=>!e.disabled&&(s&&a&&x(n,s,a),!te(Qe(),l)),A=(s,a,u)=>rr(s,h,{...c.mount?n:E(a)?l:H(s)?{[s]:a}:a},u,a),O=s=>Ce(y(c.mount?n:l,s,e.shouldUnregister?y(l,s,[]):[])),T=(s,a,u={})=>{const d=y(i,s);let f=a;if(d){const o=d._f;o&&(!o.disabled&&x(n,s,Ot(a,o)),f=ke(o.ref)&&M(a)?"":a,St(o.ref)?[...o.ref.options].forEach(v=>v.selected=f.includes(v.value)):o.refs?Ve(o.ref)?o.refs.length>1?o.refs.forEach(v=>(!v.defaultChecked||!v.disabled)&&(v.checked=Array.isArray(f)?!!f.find(b=>b===v.value):f===v.value)):o.refs[0]&&(o.refs[0].checked=!!f):o.refs.forEach(v=>v.checked=v.value===f):$e(o.ref)?o.ref.value="":(o.ref.value=f,o.ref.type||g.values.next({name:s,values:{...n}})))}(u.shouldDirty||u.shouldTouch)&&ue(s,f,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&be(s)},j=(s,a,u)=>{for(const d in a){const f=a[d],o=`${s}.${d}`,v=y(i,o);(h.array.has(s)||S(f)||v&&!v._f)&&!ne(f)?j(o,f,u):T(o,f,u)}},I=(s,a,u={})=>{const d=y(i,s),f=h.array.has(s),o=q(a);x(n,s,o),f?(g.array.next({name:s,values:{...n}}),(F.isDirty||F.dirtyFields)&&u.shouldDirty&&g.state.next({name:s,dirtyFields:me(l,n),isDirty:m(s,o)})):d&&!d._f&&!M(o)?j(s,o,u):T(s,o,u),lt(s,h)&&g.state.next({...t}),g.values.next({name:c.mount?s:void 0,values:{...n}})},ve=async s=>{c.mount=!0;const a=s.target;let u=a.name,d=!0;const f=y(i,u),o=()=>a.type?qe(f._f):Yt(s),v=b=>{d=Number.isNaN(b)||ne(b)&&isNaN(b.getTime())||te(b,y(n,u,b))};if(f){let b,C;const U=o(),ae=s.type===nt.BLUR||s.type===nt.FOCUS_OUT,Lt=!or(f._f)&&!r.resolver&&!y(t.errors,u)&&!f._f.deps||cr(ae,y(t.touchedFields,u),t.isSubmitted,Z,Ae),Le=lt(u,h,ae);x(n,u,U),ae?(f._f.onBlur&&f._f.onBlur(s),_&&_(0)):f._f.onChange&&f._f.onChange(s);const Ne=ue(u,U,ae,!1),Nt=!N(Ne)||Le;if(!ae&&g.values.next({name:u,type:s.type,values:{...n}}),Lt)return F.isValid&&(e.mode==="onBlur"?ae&&$():$()),Nt&&g.state.next({name:u,...Le?{}:Ne});if(!ae&&Le&&g.state.next({...t}),r.resolver){const{errors:rt}=await ie([u]);if(v(U),d){const Pt=vt(t.errors,i,u),st=vt(rt,i,Pt.name||u);b=st.error,u=st.name,C=N(rt)}}else ee([u],!0),b=(await yt(f,n,P,r.shouldUseNativeValidation))[u],ee([u]),v(U),d&&(b?C=!1:F.isValid&&(C=await B(i,!0)));d&&(f._f.deps&&be(f._f.deps),xe(u,C,b,Ne))}},ge=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},be=async(s,a={})=>{let u,d;const f=Se(s);if(r.resolver){const o=await le(E(s)?s:f);u=N(o),d=s?!f.some(v=>y(o,v)):u}else s?(d=(await Promise.all(f.map(async o=>{const v=y(i,o);return await B(v&&v._f?{[o]:v}:v)}))).every(Boolean),!(!d&&!t.isValid)&&$()):d=u=await B(i);return g.state.next({...!H(s)||F.isValid&&u!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:u}:{},errors:t.errors}),a.shouldFocus&&!d&&Fe(i,ge,s?f:h.mount),d},Qe=s=>{const a={...c.mount?n:l};return E(s)?a:H(s)?y(a,s):s.map(u=>y(a,u))},Ye=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),error:y((a||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((a||t).touchedFields,s)}),Ct=s=>{s&&Se(s).forEach(a=>p(t.errors,a)),g.state.next({errors:s?t.errors:{}})},Ge=(s,a,u)=>{const d=(y(i,s,{_f:{}})._f||{}).ref,f=y(t.errors,s)||{},{ref:o,message:v,type:b,...C}=f;x(t.errors,s,{...C,...a,ref:d}),g.state.next({name:s,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&d&&d.focus&&d.focus()},Ut=(s,a)=>J(s)?g.values.subscribe({next:u=>s(A(void 0,a),u)}):A(s,a,!0),Te=(s,a={})=>{for(const u of s?Se(s):h.mount)h.mount.delete(u),h.array.delete(u),a.keepValue||(p(i,u),p(n,u)),!a.keepError&&p(t.errors,u),!a.keepDirty&&p(t.dirtyFields,u),!a.keepTouched&&p(t.touchedFields,u),!a.keepIsValidating&&p(t.validatingFields,u),!r.shouldUnregister&&!a.keepDefaultValue&&p(l,u);g.values.next({values:{...n}}),g.state.next({...t,...a.keepDirty?{isDirty:m()}:{}}),!a.keepIsValid&&$()},Je=({disabled:s,name:a,field:u,fields:d,value:f})=>{if(K(s)&&c.mount||s){const o=s?void 0:E(f)?qe(u?u._f:y(d,a)._f):f;x(n,a,o),ue(a,o,!1,!1,!0)}},Me=(s,a={})=>{let u=y(i,s);const d=K(a.disabled)||K(e.disabled);return x(i,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...a}}),h.mount.add(s),u?Je({field:u,disabled:K(a.disabled)?a.disabled:e.disabled,name:s,value:a.value}):k(s,!0,a.value),{...d?{disabled:a.disabled||e.disabled}:{},...r.progressive?{required:!!a.required,min:_e(a.min),max:_e(a.max),minLength:_e(a.minLength),maxLength:_e(a.maxLength),pattern:_e(a.pattern)}:{},name:s,onChange:ve,onBlur:ve,ref:f=>{if(f){Me(s,a),u=y(i,s);const o=E(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,v=nr(o),b=u._f.refs||[];if(v?b.find(C=>C===o):o===u._f.ref)return;x(i,s,{_f:{...u._f,...v?{refs:[...b.filter(Ie),o,...Array.isArray(y(l,s))?[{}]:[]],ref:{type:o.type,name:s}}:{ref:o}}}),k(s,!1,void 0,o)}else u=y(i,s,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(Jt(h.array,s)&&c.action)&&h.unMount.add(s)}}},Xe=()=>r.shouldFocusError&&Fe(i,ge,h.mount),Tt=s=>{K(s)&&(g.state.next({disabled:s}),Fe(i,(a,u)=>{const d=y(i,u);d&&(a.disabled=d._f.disabled||s,Array.isArray(d._f.refs)&&d._f.refs.forEach(f=>{f.disabled=d._f.disabled||s}))},0,!1))},Ze=(s,a)=>async u=>{let d;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let f=q(n);if(g.state.next({isSubmitting:!0}),r.resolver){const{errors:o,values:v}=await ie();t.errors=o,f=v}else await B(i);if(p(t.errors,"root"),N(t.errors)){g.state.next({errors:{}});try{await s(f,u)}catch(o){d=o}}else a&&await a({...t.errors},u),Xe(),setTimeout(Xe);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:N(t.errors)&&!d,submitCount:t.submitCount+1,errors:t.errors}),d)throw d},Mt=(s,a={})=>{y(i,s)&&(E(a.defaultValue)?I(s,q(y(l,s))):(I(s,a.defaultValue),x(l,s,q(a.defaultValue))),a.keepTouched||p(t.touchedFields,s),a.keepDirty||(p(t.dirtyFields,s),t.isDirty=a.defaultValue?m(s,q(y(l,s))):m()),a.keepError||(p(t.errors,s),F.isValid&&$()),g.state.next({...t}))},et=(s,a={})=>{const u=s?q(s):l,d=q(u),f=N(s),o=f?l:d;if(a.keepDefaultValues||(l=u),!a.keepValues){if(a.keepDirtyValues){const v=new Set([...h.mount,...Object.keys(me(l,n))]);for(const b of Array.from(v))y(t.dirtyFields,b)?x(o,b,y(n,b)):I(b,y(o,b))}else{if(Ke&&E(s))for(const v of h.mount){const b=y(i,v);if(b&&b._f){const C=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;if(ke(C)){const U=C.closest("form");if(U){U.reset();break}}}}i={}}n=e.shouldUnregister?a.keepDefaultValues?q(l):{}:q(o),g.array.next({values:{...o}}),g.values.next({values:{...o}})}h={mount:a.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!F.isValid||!!a.keepIsValid||!!a.keepDirtyValues,c.watch=!!e.shouldUnregister,g.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!te(s,l)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&n?me(l,n):t.dirtyFields:a.keepDefaultValues&&s?me(l,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},tt=(s,a)=>et(J(s)?s(n):s,a);return{control:{register:Me,unregister:Te,getFieldState:Ye,handleSubmit:Ze,setError:Ge,_executeSchema:ie,_getWatch:A,_getDirty:m,_updateValid:$,_removeUnmounted:we,_updateFieldArray:V,_updateDisabledField:Je,_getFieldArray:O,_reset:et,_resetDefaultValues:()=>J(r.defaultValues)&&r.defaultValues().then(s=>{tt(s,r.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:Tt,_subjects:g,_proxyFormState:F,_setErrors:Q,get _fields(){return i},get _formValues(){return n},get _state(){return c},set _state(s){c=s},get _defaultValues(){return l},get _names(){return h},set _names(s){h=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:be,register:Me,handleSubmit:Ze,watch:Ut,setValue:I,getValues:Qe,reset:tt,resetField:Mt,clearErrors:Ct,unregister:Te,setError:Ge,setFocus:(s,a={})=>{const u=y(i,s),d=u&&u._f;if(d){const f=d.refs?d.refs[0]:d.ref;f.focus&&(f.focus(),a.shouldSelect&&f.select())}},getFieldState:Ye}}function hr(e={}){const r=R.useRef(),t=R.useRef(),[i,l]=R.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...yr(e),formState:i});const n=r.current.control;return n._options=e,tr({subject:n._subjects.state,next:c=>{er(c,n._proxyFormState,n._updateFormState)&&l({...n._formState})}}),R.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),R.useEffect(()=>{if(n._proxyFormState.isDirty){const c=n._getDirty();c!==i.isDirty&&n._subjects.state.next({isDirty:c})}},[n,i.isDirty]),R.useEffect(()=>{e.values&&!te(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,l(c=>({...c}))):n._resetDefaultValues()},[e.values,n]),R.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),R.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),R.useEffect(()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[e.shouldUnregister,n]),R.useEffect(()=>{r.current&&(r.current.watch=r.current.watch.bind({}))},[i]),r.current.formState=Zt(i,n),r.current}const gt=(e,r,t)=>{if(e&&"reportValidity"in e){const i=y(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},pt=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?gt(i.ref,t,e):i.refs&&i.refs.forEach(l=>gt(l,t,e))}},vr=(e,r)=>{r.shouldUseNativeValidation&&pt(e,r);const t={};for(const i in e){const l=y(r.fields,i),n=Object.assign(e[i]||{},{ref:l&&l.ref});if(gr(r.names||Object.keys(e),i)){const c=Object.assign({},y(t,i));x(c,"root",n),x(t,i,c)}else x(t,i,n)}return t},gr=(e,r)=>e.some(t=>t.startsWith(r+"."));var br=function(e,r){for(var t={};e.length;){var i=e[0],l=i.code,n=i.message,c=i.path.join(".");if(!t[c])if("unionErrors"in i){var h=i.unionErrors[0].errors[0];t[c]={message:h.message,type:h.code}}else t[c]={message:n,type:l};if("unionErrors"in i&&i.unionErrors.forEach(function(F){return F.errors.forEach(function(g){return e.push(g)})}),r){var _=t[c].types,D=_&&_[i.code];t[c]=xt(c,r,t,l,D?[].concat(D,i.message):i.message)}e.shift()}return t},mr=function(e,r,t){return t===void 0&&(t={}),function(i,l,n){try{return Promise.resolve(function(c,h){try{var _=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(D){return n.shouldUseNativeValidation&&pt({},n),{errors:{},values:t.raw?i:D}})}catch(D){return h(D)}return _&&_.then?_.then(void 0,h):_}(0,function(c){if(function(h){return Array.isArray(h==null?void 0:h.errors)}(c))return{values:{},errors:vr(br(c.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw c}))}catch(c){return Promise.reject(c)}}};const wr=e=>{const r=Kt(),{register:t,handleSubmit:i,formState:{errors:l}}=hr({resolver:mr(e.validationSchema)}),{mutate:n,status:c}=Qt({mutationFn:e.mutationFn,onSuccess:_=>{_&&_.message?(Re.success(_.message||e.successMessage),r(Ht(_.data))):Re.error(e.errorMessage)},onError:_=>{Re.error(_||"An error occurred. Please try again.")}}),h=ye.useCallback(_=>n(_),[n]);return{register:t,handleSubmit:i,onsubmit:h,errors:l,status:c}},Er=_t.object({firstName:he("First name is required"),lastName:he("Last name is required"),email:Ft("Please enter a valid email address"),username:he("Username is required"),password:he("Password is required"),confirmPassword:he("Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),Sr=_t.object({email:Ft("Please enter a valid email address"),password:he("Password is required")}),Dr=({message:e,className:r})=>$t.jsx("p",{className:`text-[14px] text-red-500 ${r}`,children:e});export{Dr as E,Sr as U,Er as a,wr as u};
